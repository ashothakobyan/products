{"ast":null,"code":"export const reducer = (state, action) => {\n  switch (action.type) {\n    case \"CHANGE_LOADING_STATE\":\n      return { ...state,\n        showLoadingState: !state.showLoadingState\n      };\n\n    case \"SET_PRODUCTS\":\n      return { ...state,\n        products: action.products\n      };\n\n    case \"ADD_ORDER\":\n      return { ...state,\n        products: newProducts,\n        orderedProducts: newOrderedProducts,\n        totalPrice: state.totalPrice + action.price\n      };\n\n    case \"REMOVE_ORDER\":\n      const cloneOrdered = [...state.orderedProducts];\n      const cloneOrder = { ...cloneOrdered.find(product => product.id === action.id)\n      };\n      const OrderIndex = cloneOrdered.findIndex(product => product.id === action.id);\n      const cloneProducts = [...state.products];\n      const productIndex = cloneProducts.findIndex(product => product.id === action.id);\n      const cloneProduct = { ...cloneProducts[productIndex]\n      };\n\n      if (cloneProduct.availableCount === 0) {\n        cloneProduct.addButtonState = true;\n      }\n\n      cloneProduct.availableCount = cloneProduct.availableCount + 1;\n\n      if (cloneOrder.quantity > 1) {\n        cloneOrder.quantity = cloneOrder.quantity - 1;\n        cloneOrdered[OrderIndex] = cloneOrder;\n      } else {\n        cloneOrdered.splice(OrderIndex, 1);\n        cloneProduct.removeButtonState = false;\n      }\n\n      cloneProducts.splice(productIndex, 1, cloneProduct);\n      return { ...state,\n        orderedProducts: cloneOrdered,\n        totalPrice: state.totalPrice - action.price,\n        products: cloneProducts\n      };\n\n    default:\n      return state;\n  }\n};","map":{"version":3,"sources":["/home/work/Desktop/AshotHakobyan/checkout-react/src/slicer/Store.js"],"names":["reducer","state","action","type","showLoadingState","products","newProducts","orderedProducts","newOrderedProducts","totalPrice","price","cloneOrdered","cloneOrder","find","product","id","OrderIndex","findIndex","cloneProducts","productIndex","cloneProduct","availableCount","addButtonState","quantity","splice","removeButtonState"],"mappings":"AAAA,OAAO,MAAMA,OAAO,GAAG,CAACC,KAAD,EAAQC,MAAR,KAAmB;AACxC,UAAQA,MAAM,CAACC,IAAf;AACE,SAAK,sBAAL;AACE,aAAO,EACL,GAAGF,KADE;AAELG,QAAAA,gBAAgB,EAAE,CAACH,KAAK,CAACG;AAFpB,OAAP;;AAIF,SAAK,cAAL;AACE,aAAO,EACL,GAAGH,KADE;AAELI,QAAAA,QAAQ,EAAEH,MAAM,CAACG;AAFZ,OAAP;;AAIF,SAAK,WAAL;AAEE,aAAO,EACL,GAAGJ,KADE;AAELI,QAAAA,QAAQ,EAAEC,WAFL;AAGLC,QAAAA,eAAe,EAAEC,kBAHZ;AAILC,QAAAA,UAAU,EAAER,KAAK,CAACQ,UAAN,GAAmBP,MAAM,CAACQ;AAJjC,OAAP;;AAOF,SAAK,cAAL;AACE,YAAMC,YAAY,GAAG,CAAC,GAAGV,KAAK,CAACM,eAAV,CAArB;AACA,YAAMK,UAAU,GAAG,EACjB,GAAGD,YAAY,CAACE,IAAb,CAAmBC,OAAD,IAAaA,OAAO,CAACC,EAAR,KAAeb,MAAM,CAACa,EAArD;AADc,OAAnB;AAGA,YAAMC,UAAU,GAAGL,YAAY,CAACM,SAAb,CAChBH,OAAD,IAAaA,OAAO,CAACC,EAAR,KAAeb,MAAM,CAACa,EADlB,CAAnB;AAGA,YAAMG,aAAa,GAAG,CAAC,GAAGjB,KAAK,CAACI,QAAV,CAAtB;AACA,YAAMc,YAAY,GAAGD,aAAa,CAACD,SAAd,CAClBH,OAAD,IAAaA,OAAO,CAACC,EAAR,KAAeb,MAAM,CAACa,EADhB,CAArB;AAGA,YAAMK,YAAY,GAAG,EAAE,GAAGF,aAAa,CAACC,YAAD;AAAlB,OAArB;;AACA,UAAIC,YAAY,CAACC,cAAb,KAAgC,CAApC,EAAuC;AACrCD,QAAAA,YAAY,CAACE,cAAb,GAA8B,IAA9B;AACD;;AAEDF,MAAAA,YAAY,CAACC,cAAb,GAA8BD,YAAY,CAACC,cAAb,GAA8B,CAA5D;;AAEA,UAAIT,UAAU,CAACW,QAAX,GAAsB,CAA1B,EAA6B;AAC3BX,QAAAA,UAAU,CAACW,QAAX,GAAsBX,UAAU,CAACW,QAAX,GAAsB,CAA5C;AACAZ,QAAAA,YAAY,CAACK,UAAD,CAAZ,GAA2BJ,UAA3B;AACD,OAHD,MAGO;AACLD,QAAAA,YAAY,CAACa,MAAb,CAAoBR,UAApB,EAAgC,CAAhC;AACAI,QAAAA,YAAY,CAACK,iBAAb,GAAiC,KAAjC;AACD;;AACDP,MAAAA,aAAa,CAACM,MAAd,CAAqBL,YAArB,EAAmC,CAAnC,EAAsCC,YAAtC;AAEA,aAAO,EACL,GAAGnB,KADE;AAELM,QAAAA,eAAe,EAAEI,YAFZ;AAGLF,QAAAA,UAAU,EAAER,KAAK,CAACQ,UAAN,GAAmBP,MAAM,CAACQ,KAHjC;AAILL,QAAAA,QAAQ,EAAEa;AAJL,OAAP;;AAOF;AACE,aAAOjB,KAAP;AAxDJ;AA0DD,CA3DM","sourcesContent":["export const reducer = (state, action) => {\n  switch (action.type) {\n    case \"CHANGE_LOADING_STATE\":\n      return {\n        ...state,\n        showLoadingState: !state.showLoadingState,\n      };\n    case \"SET_PRODUCTS\":\n      return {\n        ...state,\n        products: action.products,\n      };\n    case \"ADD_ORDER\":\n      \n      return {\n        ...state,\n        products: newProducts,\n        orderedProducts: newOrderedProducts,\n        totalPrice: state.totalPrice + action.price,\n      };\n\n    case \"REMOVE_ORDER\":\n      const cloneOrdered = [...state.orderedProducts];\n      const cloneOrder = {\n        ...cloneOrdered.find((product) => product.id === action.id),\n      };\n      const OrderIndex = cloneOrdered.findIndex(\n        (product) => product.id === action.id\n      );\n      const cloneProducts = [...state.products];\n      const productIndex = cloneProducts.findIndex(\n        (product) => product.id === action.id\n      );\n      const cloneProduct = { ...cloneProducts[productIndex] };\n      if (cloneProduct.availableCount === 0) {\n        cloneProduct.addButtonState = true;\n      }\n\n      cloneProduct.availableCount = cloneProduct.availableCount + 1;\n\n      if (cloneOrder.quantity > 1) {\n        cloneOrder.quantity = cloneOrder.quantity - 1;\n        cloneOrdered[OrderIndex] = cloneOrder;\n      } else {\n        cloneOrdered.splice(OrderIndex, 1);\n        cloneProduct.removeButtonState = false;\n      }\n      cloneProducts.splice(productIndex, 1, cloneProduct);\n\n      return {\n        ...state,\n        orderedProducts: cloneOrdered,\n        totalPrice: state.totalPrice - action.price,\n        products: cloneProducts,\n      };\n\n    default:\n      return state;\n  }\n};\n"]},"metadata":{},"sourceType":"module"}